import{z as s,q as e,P as f,E as x,r as n,w}from"./main.68c9c927.js";import{G as N,d as v,e as y,f as b,g as D}from"./utils.c828fe2c.js";const _=()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100%",height:"100%",viewBox:"0 0 55.679 55.678",children:[e("defs",{children:e("clipPath",{id:"a",children:e("rect",{width:"55.679",height:"55.678",transform:"translate(0 0)",fill:"none"})})}),e("g",{transform:"translate(0 0)",children:s("g",{clipPath:"url(#a)",children:[e("path",{d:"M50.028,27.839A22.181,22.181,0,0,1,12.19,43.558h3.69V37.907H2.614V51.174h5.65V47.617A27.827,27.827,0,0,0,55.678,27.839Z",fill:"#007bc7"}),e("path",{d:"M27.84,5.65a22.158,22.158,0,0,1,15.153,5.992H39.535v5.651H52.8V4.026h-5.65V7.8A27.829,27.829,0,0,0,0,27.838H5.651A22.214,22.214,0,0,1,27.84,5.65",fill:"#007bc7"})]})})]});function o(a){return N({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 20h2V8h3L8 4 4 8h3zm13-4h-3V4h-2v12h-3l4 4z"}}]})(a)}const m=({device:a})=>{var c;const l=a.device_info.tag_list;return s("div",{className:"device-item status-empty",children:[s("div",{className:"device-info",children:[e("img",{src:"https://via.placeholder.com/150",alt:a?a.auto_name:"Unknown Device",className:"hidden w-auto h-12 lg:block md:h-16"}),s("div",{className:"px-4",children:[e("h3",{children:((c=a==null?void 0:a.device_info)==null?void 0:c.device_name)||(a==null?void 0:a.auto_name)||"Unknown Device"}),s("p",{className:"text-xs",children:[a&&a.ip,e("br",{}),a&&a.mac]})]})]}),e("div",{className:"device-tags",children:JSON.parse(l).map(r=>e("div",{className:"tag",children:r},r))}),s("div",{className:"device-details",children:[a&&e("div",{className:"flex items-center justify-center px-4 text-sm border-r border-gray-300 w-fit",children:v(a.outbound_byte_count)}),e("div",{className:"flex items-center justify-center px-4 text-sm w-fit",children:e("a",{href:`/device-activity?deviceid=${a.device_id}`,className:"",children:"Details"})})]})]})};m.propTypes={tagList:f.array};const k=()=>{var h;const{devicesData:a,devicesDataLoading:l,sortDevicesData:c}=x(),[r,p]=n.exports.useState(""),[d,g]=n.exports.useState("ASC"),[i,u]=n.exports.useState(!1);return s("section",{className:"bg-gray-50 flex-flex-col-gap-4",id:"inspecting-devices",children:[s("div",{className:"flex items-center w-full gap-4 md:gap-5",children:[s("div",{className:"",children:[e("h2",{className:"h1",children:"Inspecting Devices"}),e("p",{className:"py-2",children:"Naming & tagging helps with our research"})]}),e("div",{className:"w-8 h-8 md:w-10 md:h-10 animate-spin-slow",children:e(_,{})})]}),s("div",{className:"grid grid-cols-4 gap-4 py-4 md:flex md:items-center",children:[s("form",{className:"flex flex-1 order-last col-span-4 md:order-first",children:[e("input",{type:"text",name:"search",id:"searchDevices",value:r,onChange:t=>p(t.target.value),className:"w-full px-4 py-2 text-gray-600 bg-white border border-gray-400 rounded-md",placeholder:"Search devices by name or tag"}),s("label",{htmlFor:"searchDevices",className:"sr-only",children:[e(y,{}),"Search devices by name or tag"]})]}),s("button",{className:"flex items-center justify-center gap-1 p-2 text-sm",children:["Name",e(o,{className:"w-4 h-4 text-gray-400"})]}),s("button",{className:"flex items-center justify-center gap-1 p-2 text-sm",onClick:()=>{g(d==="ASC"?"DESC":"ASC"),c("outbound_byte_count",d)},children:["Traffic",e(o,{className:"w-4 h-4 text-gray-400"})]}),e("div",{className:"flex items-center justify-center gap-3 px-2",children:e(w,{checked:i,onChange:u,children:s("span",{className:"flex",children:[e(b,{className:`${i?"text-white rounded-lg bg-secondary":"text-dark"} w-10 h-10 md:w-8 md:h-8 p-1 `}),e(D,{className:`${i?"text-dark":"text-white rounded-lg bg-secondary"} w-10 h-10 md:w-8 md:h-8 p-1 `})]})})})]}),l?e("div",{className:"skeleton h-[600px]"}):e("ul",{className:i?"card-grid":"min-h-[200px]",children:(h=a.devices)==null?void 0:h.filter(t=>{if(!r||t.auto_name.toLowerCase().includes(r.toLowerCase()))return!0}).map(t=>e("div",{children:t.device_info.is_inspected==1&&e("li",{className:`${i?"card-view":"list-view"} py-2`,children:e(m,{device:t})},t.device_id)},t.device_id))})]})};export{k as I,_ as R};
